func generateSubdomain() string {
	mutex.Lock()
	defer mutex.Unlock()

	const chars = "abcdefghijklmnopqrstuvwxyz0123456789"
	for {
		result := make([]byte, 8)
		for i := range result {
			result[i] = chars[rand.Intn(len(chars))]
		}
		subdomain := string(result)
		if !subdomains[subdomain] {
			subdomains[subdomain] = true
			return subdomain
		}
	}
}

