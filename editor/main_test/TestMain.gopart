func TestMain(m *testing.M) {
	// Set up
	setUpTestEnvironment()

	// Run tests
	code := m.Run()

	// Tear down
	tearDownTestEnvironment()

	os.Exit(code)
}

func setUpTestEnvironment() {
	db = initTestDB()
	ipPool = NewIPPool()
}

func tearDownTestEnvironment() {
	db.Close()
	os.Remove("./testdiscovery.db")
}
